<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Plan de Servicios || Innovalab || Laboratorio Técnico</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/font-awesome-all.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/css/responsive.css" />
    
    <!-- Feather Icons -->
    <script src="https://unpkg.com/feather-icons"></script>
    
    <style>
        .service-selector {
            padding: 60px 0;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }
        
        .service-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 3px solid transparent;
        }
        
        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        
        .service-card.selected {
            border-color: #00A7EB;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        }
        
        .service-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #00A7EB 0%, #0056b3 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            margin-bottom: 15px;
        }
        
        .service-price {
            font-size: 1.5rem;
            font-weight: 700;
            color: #00A7EB;
            margin-bottom: 10px;
        }
        
        .plan-summary {
            position: sticky;
            top: 100px;
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .selected-service {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .btn-add {
            background: linear-gradient(135deg, #00A7EB 0%, #0056b3 100%);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        .btn-remove {
            background: #dc3545;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 11px;
        }
        
        .total-price {
            font-size: 2rem;
            font-weight: 700;
            color: #00A7EB;
            text-align: center;
            margin: 20px 0;
        }
        
        .btn-checkout {
            width: 100%;
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn-checkout:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(40, 167, 69, 0.3);
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Header -->
            <div class="col-12">
                <div style="background: linear-gradient(135deg, #0B2F5A 0%, #1E5A96 100%); color: white; padding: 40px 0; text-align: center;">
                    <h1><i data-feather="shopping-cart"></i> Planifica tus Servicios</h1>
                    <p>Selecciona los servicios que necesitas y crea tu plan personalizado</p>
                </div>
            </div>
        </div>
        
        <div class="service-selector">
            <div class="container">
                <div class="row">
                    <!-- Servicios Disponibles -->
                    <div class="col-lg-8">
                        <h3 style="margin-bottom: 20px; color: #0B2F5A;">
                            <i data-feather="list"></i> Servicios Disponibles
                        </h3>
                        
                        <!-- Filtros por Categoría -->
                        <div style="margin-bottom: 30px;">
                            <div class="btn-group" role="group" style="flex-wrap: wrap; gap: 10px; display: flex;">
                                <button type="button" class="btn category-filter active" data-category="all" 
                                        style="background: #00A7EB; color: white; border: none; padding: 8px 16px; border-radius: 20px; font-size: 14px; transition: all 0.3s ease;">
                                    Todos
                                </button>
                                <button type="button" class="btn category-filter" data-category="reparacion"
                                        style="background: #f8f9fa; color: #666; border: 1px solid #dee2e6; padding: 8px 16px; border-radius: 20px; font-size: 14px; transition: all 0.3s ease;">
                                    Reparaciones
                                </button>
                                <button type="button" class="btn category-filter" data-category="desarrollo"
                                        style="background: #f8f9fa; color: #666; border: 1px solid #dee2e6; padding: 8px 16px; border-radius: 20px; font-size: 14px; transition: all 0.3s ease;">
                                    Desarrollo
                                </button>
                                <button type="button" class="btn category-filter" data-category="consultoria"
                                        style="background: #f8f9fa; color: #666; border: 1px solid #dee2e6; padding: 8px 16px; border-radius: 20px; font-size: 14px; transition: all 0.3s ease;">
                                    Consultoría
                                </button>
                                <button type="button" class="btn category-filter" data-category="mantenimiento"
                                        style="background: #f8f9fa; color: #666; border: 1px solid #dee2e6; padding: 8px 16px; border-radius: 20px; font-size: 14px; transition: all 0.3s ease;">
                                    Mantenimiento
                                </button>
                            </div>
                        </div>
                        
                        <div class="row" id="services-container">
                            <!-- Los servicios se cargarán aquí dinámicamente -->
                        </div>
                    </div>
                    
                    <!-- Plan Summary -->
                    <div class="col-lg-4">
                        <div class="plan-summary">
                            <h4 style="color: #0B2F5A; margin-bottom: 20px;">
                                <i data-feather="clipboard"></i> Tu Plan
                            </h4>
                            
                            <div id="selected-services">
                                <p style="text-align: center; color: #666; padding: 20px;">
                                    No has seleccionado servicios aún
                                </p>
                            </div>
                            
                            <div class="total-price" id="total-price">
                                $0
                            </div>
                            
                            <button class="btn-checkout" id="checkout-btn" disabled>
                                <i data-feather="credit-card"></i> Solicitar Cotización
                            </button>
                            
                            <div style="margin-top: 15px; text-align: center;">
                                <a href="index.html" style="color: #666; text-decoration: none;">
                                    <i data-feather="arrow-left"></i> Volver al inicio
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery-latest.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script>
        // Configuración Supabase
        const supabaseUrl = 'https://ptonwoegfinkdngrovhv.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB0b253b2VnZmlua2RuZ3Jvdmh2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5NTE0ODUsImV4cCI6MjA2NTUyNzQ4NX0.jIin8SVfYvFh2-NxoJH8dcqOQ4Lt26rPyidzMy4yOwg';
        const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

        // Servicios disponibles
        const availableServices = [
            // Reparaciones
            {
                id: 1,
                name: "Reparación de Pantalla",
                description: "Cambio de pantalla para dispositivos móviles",
                price: 150000,
                icon: "smartphone",
                category: "reparacion"
            },
            {
                id: 2,
                name: "Cambio de Batería",
                description: "Reemplazo de batería original",
                price: 80000,
                icon: "battery",
                category: "reparacion"
            },
            {
                id: 3,
                name: "Reparación de Tablets",
                description: "Pantalla, batería y componentes internos",
                price: 180000,
                icon: "tablet",
                category: "reparacion"
            },
            {
                id: 4,
                name: "Mantenimiento de Laptop",
                description: "Limpieza, optimización y mejoras",
                price: 120000,
                icon: "monitor",
                category: "reparacion"
            },
            {
                id: 5,
                name: "Tratamiento por Líquidos",
                description: "Recuperación de dispositivos mojados",
                price: 100000,
                icon: "droplet",
                category: "reparacion"
            },
            // Desarrollo
            {
                id: 6,
                name: "Desarrollo Web Básico",
                description: "Sitio web profesional con 5 páginas",
                price: 500000,
                icon: "globe",
                category: "desarrollo"
            },
            {
                id: 7,
                name: "Desarrollo Web Avanzado",
                description: "Sitio web con funcionalidades complejas",
                price: 1200000,
                icon: "code",
                category: "desarrollo"
            },
            {
                id: 8,
                name: "Aplicación Móvil",
                description: "App nativa para iOS y Android",
                price: 2000000,
                icon: "mobile",
                category: "desarrollo"
            },
            {
                id: 9,
                name: "E-commerce",
                description: "Tienda online completa con pagos",
                price: 1500000,
                icon: "shopping-bag",
                category: "desarrollo"
            },
            // Consultoría
            {
                id: 10,
                name: "Consultoría Tecnológica",
                description: "Asesoría en transformación digital",
                price: 200000,
                icon: "users",
                category: "consultoria"
            },
            {
                id: 11,
                name: "Auditoría de Sistemas",
                description: "Evaluación completa de infraestructura",
                price: 300000,
                icon: "search",
                category: "consultoria"
            },
            {
                id: 12,
                name: "Capacitación Técnica",
                description: "Entrenamiento para equipos de trabajo",
                price: 250000,
                icon: "book-open",
                category: "consultoria"
            },
            // Mantenimiento
            {
                id: 13,
                name: "Mantenimiento Preventivo",
                description: "Limpieza y optimización de dispositivos",
                price: 50000,
                icon: "tool",
                category: "mantenimiento"
            },
            {
                id: 14,
                name: "Soporte Técnico Mensual",
                description: "Soporte técnico por 1 mes",
                price: 150000,
                icon: "headphones",
                category: "mantenimiento"
            },
            {
                id: 15,
                name: "Backup y Recuperación",
                description: "Respaldo y recuperación de datos",
                price: 80000,
                icon: "hard-drive",
                category: "mantenimiento"
            }
        ];

        let selectedServices = [];
        let currentFilter = 'all';

        function formatPrice(price) {
            return new Intl.NumberFormat('es-CO', {
                style: 'currency',
                currency: 'COP',
                minimumFractionDigits: 0
            }).format(price);
        }

        function filterServices() {
            return currentFilter === 'all' 
                ? availableServices 
                : availableServices.filter(service => service.category === currentFilter);
        }

        function renderServices() {
            const container = document.getElementById('services-container');
            container.innerHTML = '';

            const servicesToShow = filterServices();

            servicesToShow.forEach(service => {
                const isSelected = selectedServices.find(s => s.id === service.id);
                
                const serviceCard = `
                    <div class="col-md-6 mb-4">
                        <div class="service-card ${isSelected ? 'selected' : ''}" onclick="toggleService(${service.id})">
                            <div class="service-icon">
                                <i data-feather="${service.icon}"></i>
                            </div>
                            <h5>${service.name}</h5>
                            <p style="color: #666; margin-bottom: 15px;">${service.description}</p>
                            <div class="service-price">${formatPrice(service.price)}</div>
                            <button class="btn-add" onclick="event.stopPropagation(); toggleService(${service.id})">
                                ${isSelected ? 'Quitar' : 'Añadir'}
                            </button>
                        </div>
                    </div>
                `;
                container.innerHTML += serviceCard;
            });

            // Reinicializar iconos Feather
            if (typeof feather !== 'undefined') {
                feather.replace();
            }
        }

        function toggleService(serviceId) {
            const service = availableServices.find(s => s.id === serviceId);
            const existingIndex = selectedServices.findIndex(s => s.id === serviceId);

            if (existingIndex > -1) {
                selectedServices.splice(existingIndex, 1);
            } else {
                selectedServices.push(service);
            }

            renderServices();
            updatePlanSummary();
        }

        function removeService(serviceId) {
            const index = selectedServices.findIndex(s => s.id === serviceId);
            if (index > -1) {
                selectedServices.splice(index, 1);
                renderServices();
                updatePlanSummary();
            }
        }

        function updatePlanSummary() {
            const container = document.getElementById('selected-services');
            const totalElement = document.getElementById('total-price');
            const checkoutBtn = document.getElementById('checkout-btn');

            if (selectedServices.length === 0) {
                container.innerHTML = `
                    <p style="text-align: center; color: #666; padding: 20px;">
                        No has seleccionado servicios aún
                    </p>
                `;
                totalElement.textContent = '$0';
                checkoutBtn.disabled = true;
                return;
            }

            let html = '';
            let total = 0;

            selectedServices.forEach(service => {
                total += service.price;
                html += `
                    <div class="selected-service">
                        <div>
                            <strong>${service.name}</strong><br>
                            <small>${formatPrice(service.price)}</small>
                        </div>
                        <button class="btn-remove" onclick="removeService(${service.id})">
                            <i data-feather="x"></i>
                        </button>
                    </div>
                `;
            });

            container.innerHTML = html;
            totalElement.textContent = formatPrice(total);
            checkoutBtn.disabled = false;

            // Reinicializar iconos Feather
            if (typeof feather !== 'undefined') {
                feather.replace();
            }
        }

        function requestQuote() {
            if (selectedServices.length === 0) {
                alert('Por favor selecciona al menos un servicio');
                return;
            }

            const servicesList = selectedServices.map(s => `• ${s.name} - ${formatPrice(s.price)}`).join('\n');
            const total = selectedServices.reduce((sum, s) => sum + s.price, 0);
            
            const message = `Hola, me interesa una cotización para los siguientes servicios:\n\n${servicesList}\n\nTotal estimado: ${formatPrice(total)}\n\n¿Podrían darme más información?`;
            
            const whatsappUrl = `https://wa.me/573242598084?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        function setActiveFilter(category) {
            currentFilter = category;
            
            // Actualizar botones de filtro
            document.querySelectorAll('.category-filter').forEach(btn => {
                if (btn.dataset.category === category) {
                    btn.style.background = '#00A7EB';
                    btn.style.color = 'white';
                    btn.style.border = 'none';
                    btn.classList.add('active');
                } else {
                    btn.style.background = '#f8f9fa';
                    btn.style.color = '#666';
                    btn.style.border = '1px solid #dee2e6';
                    btn.classList.remove('active');
                }
            });
            
            renderServices();
        }

        document.addEventListener('DOMContentLoaded', function() {
            renderServices();
            
            document.getElementById('checkout-btn').addEventListener('click', requestQuote);

            // Event listeners para filtros de categoría
            document.querySelectorAll('.category-filter').forEach(btn => {
                btn.addEventListener('click', function() {
                    setActiveFilter(this.dataset.category);
                });
            });

            // Inicializar Feather Icons
            if (typeof feather !== 'undefined') {
                feather.replace();
            }
        });
    </script>

    <!--Site Footer Start-->
    <footer class="site-footer">
        <div class="site-footer__bg-color">
            <div class="footer-widget__shape-1">
                <img src="assets/images/shapes/footer-widget-shape-1.png" alt="">
            </div>
        </div>
        <div class="container">
            <div class="site-footer__top">
                <div class="row">
                    <div class="col-xl-3 wow fadeInUp" data-wow-delay="100ms">
                        <div class="footer-widget__column footer-widget__about">
                            <div class="footer-widget__logo">
                                <a href="index.html"><img src="imagenes/logo/logoin_light.png" alt="" style="max-width: 180px; height: auto;"></a>
                            </div>
                            <p class="footer-widget__about-text">Innovalab es tu laboratorio técnico especializado en reparación de dispositivos móviles, desarrollo de soluciones digitales y consultoría tecnológica avanzada.</p>

                        </div>
                    </div>
                    <div class="col-xl-9">
                        <div class="footer-widget__right">
                            <div class="footer-widget__column footer-widget__newsletter">
                                <div class="footer-widget__newsletter-bg"
                                    style="background-image: url(assets/images/backgrounds/footer-widget-newsletter-bg.jpg);">
                                </div>
                                <h3 class="footer-widget__newsletter-title">Suscríbete a Nuestro Boletín<br>
                                    <span style="font-size: 14px; font-weight: normal; color: #ccc;">Para obtener últimas actualizaciones de ofertas y descuentos</span></h3>
                                <form class="footer-widget__newsletter-form mc-form" data-url="MC_FORM_URL"
                                    novalidate="novalidate">
                                    <div class="footer-widget__newsletter-form-input-box">
                                        <input type="email" placeholder="Ingresa tu email" name="EMAIL">
                                    </div>
                                    <button type="submit"
                                        class="footer-widget__newsletter-btn thm-btn">Suscribirse</button>
                                </form>
                            </div>
                            <div class="footer-widget__right-bottom">
                                <div class="row">
                                    <div class="col-xl-4 col-lg-4 col-md-4 wow fadeInUp" data-wow-delay="200ms">
                                        <div class="footer-widget__column footer-widget__usefull-link">
                                            <div class="footer-widget__title-box">
                                                <h3 class="footer-widget__title">Enlaces Rápidos</h3>
                                            </div>
                                            <div class="footer-widget__link-box">
                                                <ul class="footer-widget__link list-unstyled">
                                                    <li><a href="index.html"><i data-feather="home"></i> Inicio</a></li>
                                                    <li><a href="acerca-de.html"><i data-feather="info"></i> Acerca de</a></li>
                                                    <li><a href="servicios.html"><i data-feather="tool"></i> Servicios</a></li>
                                                    <li><a href="plan-servicios.html"><i data-feather="shopping-cart"></i> Plan de Servicios</a></li>
                                                    <li><a href="trucoteca.html"><i data-feather="smartphone"></i> Trucoteca</a></li>
                                                    <li><a href="pqr.html"><i data-feather="message-circle"></i> PQR</a></li>
                                                    <li><a href="contacto.html"><i data-feather="phone"></i> Contacto</a></li>
                                                    <li><a href="rastreo-reparaciones.html"><i data-feather="search"></i> Rastrear Reparación</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xl-4 col-lg-4 col-md-4 wow fadeInUp" data-wow-delay="300ms">
                                        <div class="footer-widget__column footer-widget__services">
                                            <div class="footer-widget__title-box">
                                                <h3 class="footer-widget__title">Enlaces de Interés</h3>
                                            </div>
                                            <ul class="footer-widget__link list-unstyled">
                                                <li><a href="https://www.apple.com/co/" target="_blank">Apple Colombia</a></li>
                                                <li><a href="https://www.samsung.com/co/" target="_blank">Samsung Colombia</a></li>
                                                <li><a href="https://consumer.huawei.com/co/" target="_blank">Huawei Colombia</a></li>
                                                <li><a href="https://www.xiaomi.com/co/" target="_blank">Xiaomi Colombia</a></li>
                                                <li><a href="https://www.motorola.com.co/" target="_blank">Motorola Colombia</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="col-xl-4 col-lg-4 col-md-4 wow fadeInUp" data-wow-delay="400ms">
                                        <div class="footer-widget__contact-box">
                                            <div class="footer-widget__title-box">
                                                <h3 class="footer-widget__title">Información Oficial</h3>
                                            </div>
                                            <ul class="footer-widget__contact list-unstyled">
                                                <li>
                                                    <div class="icon">
                                                        <span class="icon-phone-call"></span>
                                                    </div>
                                                    <div class="content">
                                                        <p><a href="tel:+573242598084">+57 324 259 80 84</a></p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="icon">
                                                        <span class="icon-envelope"></span>
                                                    </div>
                                                    <div class="content">
                                                        <p><a href="mailto:hola@innovalab.online">hola@innovalab.online</a>
                                                        </p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="icon">
                                                        <span class="icon-location"></span>
                                                    </div>
                                                    <div class="content">
                                                        <p>C. C. Multicentro La 14, Calle 14 #5-90, Local 201, Santa Marta</p>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="site-footer__social">
                                    <a href="https://facebook.com/innovalabsm"><i class="icon-facebook"></i></a>
                                    <a href="https://www.instagram.com/innovalabsm/"><i class="icon-instagram"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="site-footer__bottom">
            <div class="container">
                <div class="site-footer__bottom-inner" style="justify-content: center; display: flex;">
                    <p class="site-footer__bottom-text" style="margin: 0;">© Copyright 2025 by <a href="https://santamartacrea.com" target="_blank">santamarta crea</a> Todos los Derechos Reservados.</p>
                </div>
            </div>
        </div>
    </footer>
    <!--Site Footer End-->

    <!-- WhatsApp Floating Button -->
    <div class="whatsapp-float">
        <a href="https://wa.me/573242598084?text=Hola,%20me%20interesa%20crear%20un%20plan%20de%20servicios%20personalizado.%20¿Podrían%20ayudarme?" target="_blank" rel="noopener">
            <i class="fab fa-whatsapp"></i>
        </a>
    </div>

</body>
</html> 